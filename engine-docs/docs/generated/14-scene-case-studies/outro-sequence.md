# Scene Case Study: Outro Sequence

## ğŸ¬ Scene Overview

**Location**: Closing cinematic sequence after narrative completion
**Narrative Context**: The resolutionâ€”a moment of reflection, revelation, or closure that concludes the player's journey
**Player Experience: Satisfaction â†’ Understanding â†’ Emotional resonance â†’ Memory

The Outro Sequence is the player's final experience with the game. After all exploration, discovery, and challenge, the ending provides closure, answers questions, and leaves a lasting impression. This scene demonstrates how to create a satisfying conclusion that rewards player investment while maintaining the atmospheric tone established throughout.

---

## ğŸ® Game Design Perspective

### Creative Intent

**Emotional Goal**: Create resonant closureâ€”the ending should feel earned, meaningful, and memorable.

**Why Outros Matter**:

```
THE POWER OF ENDING:

Good Game + Bad Ending:
â”œâ”€â”€ "That was disappointing"
â”œâ”€â”€ "I wasted my time"
â”œâ”€â”€ Negative final impression
â””â”€â”€ Unlikely to recommend

Good Game + Good Ending:
â”œâ”€â”€ "That was worth it"
â”œâ”€â”€ "I need to process this"
â”œâ”€â”€ Positive final impression
â””â”€â”€ Will recommend, remember

THE OUTRO IS:
- Final emotional beat
- Lasting impression
- Reward for investment
- Reason to replay/share
```

### Design Philosophy

**1. Types of Endings**

```
ENDING ARCHETYPES:

Resolution Ending:
â”œâ”€â”€ All questions answered
â”œâ”€â”€ Narrative wrapped up
â”œâ”€â”€ Clear closure
â””â”€â†’ "I understand what happened"

Ambiguous Ending:
â”œâ”€â”€ Some questions answered
â”œâ”€â”€ Others left open
â”œâ”€â”€ Player interpretation
â””â”€â†’ "What do you think it meant?"

Cliffhanger Ending:
â”œâ”€â”€ New questions raised
â”œâ”€â”€ Suggests continuation
â”œâ”€â”€ Creates anticipation
â””â”€â†’ "I need to see what happens next"

Emotional Ending:
â”œâ”€â”€ Focus on feeling over answers
â”œâ”€â”€ Atmospheric resonance
â”œâ”€â”€ Memory-making
â””â”€â†’ "I felt something"

Meta Ending:
â”œâ”€â”€ Breaks fourth wall
â”œâ”€â”€ Comments on experience
â”œâ”€â”€ Self-reflection
â””â”€â†’ "The game was about..."

MULTIPLE ENDINGS:
Can combine types for different
completion conditions or player choices.
```

**2. Ending Structure**

```
OUTRO NARRATIVE STRUCTURE:

1. TRIGGER MOMENT
   Player completes final objective

2. IMMEDIATE AFTERMATH
   Direct consequences of actions
   "I did it, now what?"

3. REVELATION/REFLECTION
   New information or perspective
   Understanding deepens

4. EMOTIONAL PEAK
   Key moment of resonance
   What the ending is "about"

5. CLOSURE
   Summary, final thoughts
   "This is what it meant"

6. CREDITS
   Acknowledgement + reflection
   Time to process

7. POST-CREDITS (optional)
   Final twist or hint
   Reason to discuss
```

**3. Emotional Arc**

```
ENDING EMOTIONAL JOURNEY:

Based on Player Experience:

Challenging Journey â†’ Relief Ending
â”œâ”€â”€ "I made it through"
â”œâ”€â”€ Release of tension
â”œâ”€â”€ Satisfaction
â””â”€â†’ EARNED RELIEF

Mystery-Focused â†’ Revelation Ending
â”œâ”€â”€ "Now I understand"
â”œâ”€â”€ Pieces fit together
â”œâ”€â”€ Aha moments
â””â”€â†’ INTELLECTUAL SATISFACTION

Emotional Journey â†’ Resonance Ending
â”œâ”€â”€ "I feel something deep"
â”œâ”€â”€ Character/connection payoff
â”œâ”€â”€ Emotional catharsis
â””â”€â†’ FEELING VALIDATION

Exploration-Driven â†’ Reflection Ending
â”œâ”€â”€ "I saw everything"
â”œâ”€â”€ World appreciation
â”œâ”€â”€ Sense of place
â””â”€â†’ MEMORY MAKING
```

---

## ğŸ¨ Level Design Breakdown

### Sequence Structure

```
                    OUTRO SEQUENCE TIMELINE:

PHASE 1: TRIGGER (0-5 seconds)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Context: Player completes final objective               â”‚
â”‚ Visual: Gameplay freezes/slow-mo                        â”‚
â”‚ Audio: Game sounds fade, cinematic audio enters         â”‚
â”‚ Camera: Cuts to cinematic position                      â”‚
â”‚ Purpose: Mark transition from gameplay to ending        â”‚
â”‚ Player Feeling: "It's happening, this is the end"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
PHASE 2: AFTERMATH (5-15 seconds)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Visual: Show immediate consequences of player actions   â”‚
â”‚        Environment state reflects changes               â”‚
â”‚ Camera: Sweeping overview of affected space            â”‚
â”‚ Audio: Atmospheric, reflective                          â”‚
â”‚ Purpose: Ground ending in player's actions              â”‚
â”‚ Player Feeling: "I did this. This is the result."       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
PHASE 3: REVELATION (15-35 seconds)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Visual: Key information revealed                       â”‚
â”‚        Could be:                                        â”‚
â”‚        - Flashbacks/memory clips                        â”‚
â”‚        - Environmental changes                          â”‚
â”‚        - New perspective on familiar space              â”‚
â”‚        - Final truth about narrative                    â”‚
â”‚ Camera: Focused, deliberate                             â”‚
â”‚ Audio: Music builds, emotional                          â”‚
â”‚ Purpose: Provide understanding/answers                  â”‚
â”‚ Player Feeling: "Now I see. This is what it meant."    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
PHASE 4: EMOTIONAL PEAK (35-50 seconds)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Visual: Culminating moment/image                        â”‚
â”‚        Could be:                                        â”‚
â”‚        - Character moment                               â”‚
â”‚        - Environmental transformation                    â”‚
â”‚        - Symbolic visualization                         â”‚
â”‚        - Return to beginning location                   â”‚
â”‚ Camera: Holds on key image, slow movement              â”‚
â”‚ Audio: Music swells to peak                             â”‚
â”‚ Purpose: Create emotional resonance                      â”‚
â”‚ Player Feeling: [Varies by ending type]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
PHASE 5: CLOSURE (50-70 seconds)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Visual: Final summary image/sequence                    â”‚
â”‚        Text may appear: final thoughts, themes           â”‚
â”‚ Camera: Final framing, may pull back                    â”‚
â”‚ Audio: Music resolves, settles                          â”‚
â”‚ Purpose: Provide sense of completion                    â”‚
â”‚ Player Feeling: "It's complete. I understand."         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
PHASE 6: CREDITS (70-180+ seconds)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Visual: Credits roll                                   â”‚
â”‚        Background may show:                             â”‚
â”‚        - Final scene (static)                           â”‚
â”‚        - Slow camera movement                           â”‚
â”‚        - Montage of key moments                         â”‚
â”‚        - Symbolic imagery                              â”‚
â”‚ Audio: Credits music (may be different from main score) â”‚
â”‚ Purpose: Acknowledgement + reflection time             â”‚
â”‚ Player Feeling: Processing, remembering               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
PHASE 7: POST-CREDITS (Optional)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Visual: Final hint/twist after credits                  â”‚
â”‚        Often: Black screen with text or sound           â”‚
â”‚ Purpose: Create discussion, re-play value               â”‚
â”‚ Player Feeling: "Wait... what does that mean?"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TOTAL DURATION: 2-4 minutes (excluding credits)
SKIP: Generally not skippable (one-time experience)
```

### Ending Types Example

```
SHADOW ENGINE POTENTIAL ENDINGS:

ENDING A: RESOLUTION (The Truth Revealed)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trigger: Player discovers all clues                   â”‚
â”‚ Revelation: Full backstory revealed                   â”‚
â”‚ Emotional: Understanding + closure                    â”‚
â”‚ Final Image: Plaza restored, calm                      â”‚
â”‚ Credits: Ambient drone + light                        â”‚
â”‚ Post-Credits: None (this is the true end)             â”‚
â”‚ Theme: "Understanding heals"                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ENDING B: AMBIGUOUS (The Cycle Continues)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trigger: Player exits quickly, incomplete exploration â”‚
â”‚ Revelation: Partial understanding                     â”‚
â”‚ Emotional: Mystery + wonder                           â”‚
â”‚ Final Image: Phone booth rings again                   â”‚
â”‚ Credits: Distant sounds from throughout game            â”‚
â”‚ Post-Credits: "The call is for you" text              â”‚
â”‚ Theme: "The mystery continues"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ENDING C: EMOTIONAL (The Memory Lingers)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trigger: Player formed deep connections                â”‚
â”‚ Revelation: Personal significance                      â”‚
â”‚ Emotional: Nostalgia, poignancy                        â”‚
â”‚ Final Image: Return to first spawn, sunset            â”‚
â”‚ Credits: Piano version of main theme                   â”‚
â”‚ Post-Credits: Montage of player's journey              â”‚
â”‚ Theme: "What remains is memory"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ENDING D: META (The Reflection)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trigger: Player completed everything                   â”‚
â”‚ Revelation: Game was about...the game                   â”‚
â”‚ Emotional: Self-awareness, appreciation                â”‚
â”‚ Final Image: Break fourth wall, show player           â”‚
â”‚ Credits: Behind-the-scenes glimpse                     â”‚
â”‚ Post-Credits: "Thank you for experiencing"             â”‚
â”‚ Theme: "You were here, and it mattered"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Technical Implementation

### What You Need to Know First

Before understanding the outro implementation, you should know:
- **Camera Animation**: Keyframed sequences for cinematic control
- **State Tracking**: Player progress and choices affecting ending
- **Montage Systems**: Recalling past moments for credit sequences
- **Letter Animation**: Text reveal effects
- **Credits Systems**: Scrolling text with timing

### Outro Data Structure

```javascript
// AnimationData.js - Outro sequence configurations
export const OUTRO = {
  // Ending definitions
  endings: {
    resolution: {
      id: 'resolution',
      name: 'Resolution Ending',
      criteria: {
        cluesFound: { $gte: 8 },
        interactablesUsed: { $gte: 5 },
        completionTime: { $lte: 3600 }  // 1 hour or less
      },

      // Sequence configuration
      sequence: {
        duration: 90,  // seconds
        phases: [
          {
            phase: 'trigger',
            duration: 5,
            camera: {
              from: 'player',
              to: 'cinematic_overview',
              transition: 'slow_fade'
            }
          },
          {
            phase: 'aftermath',
            duration: 10,
            camera: {
              movement: 'sweep_environment',
              showChanges: 'restored_state'
            }
          },
          {
            phase: 'revelation',
            duration: 20,
            content: {
              type: 'flashback_sequence',
              clips: ['intro', 'key_moments', 'realization']
            }
          },
          {
            phase: 'peak',
            duration: 15,
            content: {
              type: 'character_moment',
              actor: 'protagonist',
              action: 'understands',
              line: "It was never about escaping. It was about accepting."
            }
          },
          {
            phase: 'closure',
            duration: 20,
            content: {
              type: 'final_scene',
              location: 'plaza_sunset',
              state: 'peaceful',
              text: {
                title: 'SHADOW',
                subtitle: 'The truth illuminates all',
                fadeDuration: 5
              }
            }
          },
          {
            phase: 'credits',
            duration: 120,
            content: {
              type: 'credits',
              style: 'atmospheric',
              background: 'plaza_sunset_loop',
              music: 'credits_theme_piano'
            }
          }
        ]
      }
    },

    ambiguous: {
      id: 'ambiguous',
      name: 'Ambiguous Ending',
      criteria: {
        cluesFound: { $lt: 8 },
        // Quick exit
      },
      // ... similar structure
    },

    emotional: {
      id: 'emotional',
      name: 'Emotional Ending',
      criteria: {
        // Specific interaction patterns
      }
    },

    meta: {
      id: 'meta',
      name: 'Meta Ending',
      criteria: {
        allClues: true,
        allInteractables: true,
        completionist: true
      }
    }
  },

  // Credits content
  credits: {
    sections: [
      {
        title: 'SHADOW',
        type: 'title',
        duration: 5
      },
      {
        title: 'Created By',
        type: 'section',
        names: ['Developer Name'],
        duration: 5
      },
      {
        title: 'Technologies',
        type: 'section',
        content: [
          'Built with Three.js',
          'Gaussian Splatting by SparkJS.dev',
          'Physics by Rapier',
          'Audio with Howler.js'
        ],
        duration: 10
      },
      {
        title: 'Special Thanks',
        type: 'section',
        names: ['Person 1', 'Person 2', '...'],
        duration: 8
      },
      {
        title: 'Thank You',
        type: 'title',
        text: 'For experiencing Shadow',
        duration: 10
      }
    ]
  }
};
```

### Outro Manager

```javascript
// OutroManager.js - Controls ending sequences
class OutroManager {
  constructor(animationManager, audioManager, sceneManager, gameState) {
    this.animation = animationManager;
    this.audio = audioManager;
    this.scene = sceneManager;
    this.gameState = gameState;

    this.currentEnding = null;
    this.isPlaying = false;
  }

  determineEnding() {
    // Check player progress against ending criteria
    const playerStats = this.gameState.getPlayerStats();

    for (const [endingId, ending] of Object.entries(OUTRO.endings)) {
      if (this.meetsCriteria(playerStats, ending.criteria)) {
        return endingId;
      }
    }

    // Default to ambiguous ending
    return 'ambiguous';
  }

  meetsCriteria(stats, criteria) {
    // Check each criterion
    for (const [key, condition] of Object.entries(criteria)) {
      const value = stats[key];

      if (condition.$gte && value < condition.$gte) return false;
      if (condition.$lte && value > condition.$lte) return false;
      if (condition.$eq && value !== condition.$eq) return false;
      if (condition.$lt && value >= condition.$lt) return false;
      if (condition.$gt && value <= condition.$gt) return false;

      if (condition.all && !condition.all) return false;
    }

    return true;
  }

  async playEnding(endingId) {
    const ending = OUTRO.endings[endingId];
    this.currentEnding = ending;
    this.isPlaying = true;

    // Disable player control
    game.getManager('player').disableControl();

    // Begin sequence
    for (const phase of ending.sequence.phases) {
      await this.playPhase(phase);
    }

    // Ending complete
    this.onEndingComplete(endingId);
  }

  async playPhase(phase) {
    switch (phase.phase) {
      case 'trigger':
        await this.playTriggerPhase(phase);
        break;

      case 'aftermath':
        await this.playAftermathPhase(phase);
        break;

      case 'revelation':
        await this.playRevelationPhase(phase);
        break;

      case 'peak':
        await this.playPeakPhase(phase);
        break;

      case 'closure':
        await this.playClosurePhase(phase);
        break;

      case 'credits':
        await this.playCreditsPhase(phase);
        break;
    }
  }

  async playTriggerPhase(phase) {
    // Transition from gameplay to cinematic
    const player = game.getManager('player');

    // Slow motion effect
    game.setTimeScale(0.2);

    await this.delay(1000);

    // Fade to black
    await this.scene.fadeToBlack(1);

    // Reset time scale
    game.setTimeScale(1);

    // Move camera to starting position
    await this.setupCinematicCamera(phase.camera);
  }

  async playAftermathPhase(phase) {
    // Show consequences of player actions
    const camera = this.scene.getCinematicCamera();

    // Sweep camera through environment
    const sweepPath = phase.camera.movement === 'sweep_environment' ?
      this.getEnvironmentSweepPath() : null;

    if (sweepPath) {
      await this.animateCameraAlongPath(camera, sweepPath, phase.duration);
    }

    // Show restored state if applicable
    if (phase.camera.showChanges === 'restored_state') {
      this.scene.showRestoredState();
    }
  }

  async playRevelationPhase(phase) {
    // Show key information

    if (phase.content.type === 'flashback_sequence') {
      await this.playFlashbackSequence(phase.content.clips);
    }
  }

  async playFlashbackSequence(clips) {
    for (const clip of clips) {
      // Load and play flashback clip
      await this.scene.playFlashback(clip);

      // Pause between clips
      await this.delay(500);
    }
  }

  async playPeakPhase(phase) {
    // Emotional climax

    if (phase.content.type === 'character_moment') {
      await this.playCharacterMoment(phase.content);
    }
  }

  async playCharacterMoment(content) {
    // Show character understanding
    const ui = game.getManager('ui');

    // Focus on character
    const camera = this.scene.getCinematicCamera();
    await this.focusCameraOn(content.actor, 2);

    // Show dialog
    ui.showDialogLine({
      speaker: content.actor,
      text: content.line,
      duration: 5,
      style: 'cinematic'
    });

    await this.delay(content.line.length * 100 + 3000);

    ui.hideDialog();
  }

  async playClosurePhase(phase) {
    // Final scene, closure

    if (phase.content.type === 'final_scene') {
      await this.playFinalScene(phase.content);
    }
  }

  async playFinalScene(content) {
    // Transition to final scene
    await this.scene.loadScene(content.location, content.state);

    // Camera finds final position
    const camera = this.scene.getCinematicCamera();
    await this.animateCameraToFinal(camera, 5);

    // Show title text
    const ui = game.getManager('ui');
    ui.showFinalText({
      title: content.text.title,
      subtitle: content.text.subtitle,
      fadeIn: content.text.fadeDuration,
      hold: 5,
      fadeOut: content.text.fadeDuration
    });

    await this.delay((content.text.fadeDuration + 5 + content.text.fadeDuration) * 1000);
  }

  async playCreditsPhase(phase) {
    // Roll credits

    if (phase.content.type === 'credits') {
      await this.rollCredits(phase.content);
    }
  }

  async rollCredits(content) {
    const ui = game.getManager('ui');

    // Set up background
    if (content.background === 'plaza_sunset_loop') {
      this.scene.playBackgroundLoop('plaza_sunset');
    }

    // Start credits music
    this.audio.play(content.music, {
      loop: true,
      volume: 0.5
    });

    // Show each section
    let offset = 0;
    for (const section of OUTRO.credits.sections) {
      await this.showCreditsSection(section, offset);
      offset += section.duration * 60;  // Convert to frames
      await this.delay(section.duration * 1000);
    }

    // Credits complete
    ui.hideCredits();
  }

  async showCreditsSection(section, offset) {
    const ui = game.getManager('ui');

    switch (section.type) {
      case 'title':
        ui.showCreditsTitle(section.title, section.duration);
        break;

      case 'section':
        ui.showCreditsSection(section.title, section.names || section.content);
        break;
    }
  }

  onEndingComplete(endingId) {
    this.isPlaying = false;

    // Check for post-credits scene
    const ending = OUTRO.endings[endingId];
    if (ending.postCredits) {
      this.schedulePostCredits(ending.postCredits);
    }

    // Return to main menu
    setTimeout(() => {
      game.returnToMainMenu();
    }, 3000);
  }

  schedulePostCredits(postCredits) {
    // Show post-credits scene after delay
    setTimeout(() => {
      this.showPostCredits(postCredits);
    }, 5000);  // 5 seconds after credits end
  }

  async showPostCredits(content) {
    const ui = game.getManager('ui');

    // Fade to black
    await this.scene.fadeToBlack(1);

    // Show content
    if (content.text) {
      ui.showPostCreditsText(content.text);
      await this.delay(5000);
    }

    if (content.audio) {
      this.audio.playOneShot(content.audio);
    }

    // Fade back to menu
    await this.scene.fadeFromBlack(2);
  }

  // Helper methods
  getEnvironmentSweepPath() {
    return [
      { position: { x: 0, y: 3, z: 10 }, lookAt: { x: 0, y: 1, z: 0 } },
      { position: { x: 5, y: 2.5, z: 5 }, lookAt: { x: -5, y: 1, z: 0 } },
      { position: { x: -5, y: 2, z: 0 }, lookAt: { x: 5, y: 1, z: -5 } },
      { position: { x: 0, y: 1.7, z: 5 }, lookAt: { x: 0, y: 1.7, z: 0 } }
    ];
  }

  async animateCameraAlongPath(camera, path, duration) {
    const startTime = Date.now();

    while (true) {
      const elapsed = (Date.now() - startTime) / 1000;

      if (elapsed >= duration) break;

      // Find current path segment
      const segmentDuration = duration / (path.length - 1);
      const segmentIndex = Math.min(
        Math.floor(elapsed / segmentDuration),
        path.length - 2
      );

      const segmentProgress = (elapsed % segmentDuration) / segmentDuration;

      // Interpolate between path points
      const start = path[segmentIndex];
      const end = path[segmentIndex + 1];

      camera.position.lerpVectors(
        new THREE.Vector3(start.position.x, start.position.y, start.position.z),
        new THREE.Vector3(end.position.x, end.position.y, end.position.z),
        segmentProgress
      );

      camera.lookAt(
        new THREE.Vector3(end.lookAt.x, end.lookAt.y, end.lookAt.z)
      );

      await this.frameDelay();
    }
  }

  async focusCameraOn(actor, duration) {
    // Focus camera on character/object
    const camera = this.scene.getCinematicCamera();
    const targetPos = this.scene.getActorPosition(actor);

    // Animate to focus
    // ... animation code
  }

  async animateCameraToFinal(camera, duration) {
    // Move camera to final framing position
    // ... animation code
  }

  async setupCinematicCamera(cameraConfig) {
    // Create and position cinematic camera
    const camera = new THREE.PerspectiveCamera(60, 16/9, 0.1, 100);
    camera.position.set(0, 5, 10);

    this.scene.addCamera(camera);
    this.scene.setCinematicCamera(camera);
  }

  delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  frameDelay() {
    return new Promise(resolve => requestAnimationFrame(resolve));
  }
}
```

### Credits UI Component

```javascript
// CreditsUI.js - Displays scrolling credits
class CreditsUI {
  constructor() {
    this.container = null;
    this.currentSection = null;
    this.isVisible = false;
  }

  show() {
    if (this.isVisible) return;

    // Create credits container
    this.container = document.createElement('div');
    this.container.id = 'credits-container';
    this.container.className = 'credits-overlay';

    // Style
    this.container.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      align-items: center;
      pointer-events: none;
      z-index: 1000;
    `;

    document.body.appendChild(this.container);
    this.isVisible = true;
  }

  showSection(title, content) {
    const section = document.createElement('div');
    section.className = 'credits-section';

    // Title
    const titleEl = document.createElement('h2');
    titleEl.className = 'credits-title';
    titleEl.textContent = title;
    titleEl.style.cssText = `
      font-size: 24px;
      font-weight: 300;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 20px;
      text-align: center;
      opacity: 0;
      animation: fadeIn 1s forwards;
    `;

    // Content
    const contentEl = document.createElement('div');
    contentEl.className = 'credits-content';

    if (Array.isArray(content)) {
      for (const item of content) {
        const itemEl = document.createElement('p');
        itemEl.className = 'credits-item';
        itemEl.textContent = item;
        itemEl.style.cssText = `
          font-size: 18px;
          color: rgba(255, 255, 255, 0.8);
          margin: 5px 0;
          text-align: center;
        `;
        contentEl.appendChild(itemEl);
      }
    } else {
      contentEl.textContent = content;
      contentEl.style.cssText = `
        font-size: 18px;
        color: rgba(255, 255, 255, 0.8);
        text-align: center;
      `;
    }

    section.appendChild(titleEl);
    section.appendChild(contentEl);

    // Animate entry
    section.style.cssText = `
      margin-bottom: 100px;
      opacity: 0;
      animation: fadeInUp 1s forwards 0.5s;
    `;

    this.container.appendChild(section);

    // Remove old section
    if (this.currentSection) {
      setTimeout(() => {
        this.currentSection.remove();
      }, 1000);
    }

    this.currentSection = section;
  }

  hide() {
    if (!this.isVisible) return;

    if (this.container) {
      this.container.remove();
      this.container = null;
    }

    this.isVisible = false;
  }
}
```

---

## ğŸ“ How To Build A Scene Like This

### Step 1: Define the Ending's Purpose

```
ENDING DESIGN BRIEF:

1. What are we concluding?
    Narrative, emotional arc, player journey

2. What should player feel?
    Closure? Curiosity? Satisfaction? Yearning?

3. What questions do we answer?
    Main plot resolution, key mysteries

4. What do we leave open?
    Room for interpretation, discussion

5. What's the lasting memory?
    Single image, feeling, or line
```

### Step 2: Design Multiple Endings

```javascript
// Ending structure:

const endings = {
  // Primary ending (most common)
  primary: {
    criteria: { completed: true },
    tone: 'satisfying_closure'
  },

  // Secondary ending (specific conditions)
  secondary: {
    criteria: { specificChoices: true },
    tone: 'alternative_perspective'
  },

  // Secret ending (completionist)
  secret: {
    criteria: { everything: true },
    tone: 'ultimate_reward'
  }
};
```

### Step 3: Plan Emotional Arc

```javascript
// Emotional journey through ending:

const emotionalArc = [
  { phase: 'trigger', emotion: 'anticipation' },
  { phase: 'aftermath', emotion: 'realization' },
  { phase: 'revelation', emotion: 'understanding' },
  { phase: 'peak', emotion: 'resonance' },
  { phase: 'closure', emotion: 'peace' }
];
```

---

## ğŸ”§ Variations For Your Game

### Variation 1: Static Screen Ending

```javascript
const staticEnding = {
  // Simple text on background
  type: 'minimal',
  visual: 'text_only',
  background: 'black',
  music: 'simple_melody'
};
```

### Variation 2: Interactive Ending

```javascript
const interactiveEnding = {
  // Player has final choice
  type: 'choice',
  options: ['accept', 'reject', 'transcend'],
  consequences: 'different_ending_scenes'
};
```

### Variation 3: Procedural Ending

```javascript
const proceduralEnding = {
  // Generated based on playthrough
  type: 'personalized',
  content: 'player_choices_reflected',
  unique_to_player: true
};
```

---

## Common Mistakes Beginners Make

### 1. Too Long

```javascript
// âŒ WRONG: 10+ minute ending
// Player exhausted, impact lost

// âœ… CORRECT: 2-3 minutes
// Long enough for closure, short enough for impact
```

### 2. No Connection to Actions

```javascript
// âŒ WRONG: Same ending regardless of play
// Player choices didn't matter

// âœ… CORRECT: Ending reflects journey
// Player sees impact of their actions
```

### 3. Over-Explaining

```javascript
// âŒ WRONG: Exposition dump
// Player feels talked down to

// âœ… CORRECT: Show, don't tell
// Visual revelation, not just dialogue
```

### 4: No Emotional Weight

```javascript
// âŒ WRONG: Perfunctory ending
// "Game over, thanks for playing"

// âœ… CORRECT: Meaningful conclusion
// Emotion resonates beyond the game
```

---

## Related Systems

- [Title Sequence](./title-sequence.md) - Opening counterpart
- [AnimationManager](../06-animation/animation-manager.md) - Cinematic animation
- [GameState System](../02-core-architecture/game-state-system.md) - Ending criteria
- [DialogManager](../05-media-systems/dialog-manager.md) - Final dialogue

---

## Source File Reference

**Animation Data**:
- `content/AnimationData.js` - Outro sequence definitions

**Managers**:
- `managers/OutroManager.js` - Ending sequence control
- `managers/CreditsUI.js` - Credits display

**Assets**:
- `assets/audio/credits_theme.mp3` - Credits music
- `assets/video/ending_fmv.webm` - Pre-rendered ending (if any)

---

## ğŸ§  Creative Process Summary

**From Concept to Outro Sequence**:

```
1. DEFINE CONCLUSION
   "What is the resolution?"

2. MULTIPLE PATHS
   "Different choices, different endings"

3. EMOTIONAL ARC
   "Journey from trigger to closure"

4. VISUAL RESOLUTION
   "Images that convey meaning"

5. CREDITS EXPERIENCE
   "Time to process and acknowledge"

6. POST-CREDITS (optional)
   "Final discussion point"

7. LASTING MEMORY
   "What will player remember?"
```

---

## References

- [Game Endings Analysis](https://www.youtube.com/watch?v=8FpigqfcqlM) - Video essay
- [Narrative Closure](https://www.gamedeveloper.com/design/) - Article series
- [Credits Design](https://www.artofthetitle.com/) - Inspiration
- [Emotional Game Endings](https://www.youtube.com/watch?v=sSyLH78k7Xk) - Examples

*Documentation last updated: January 12, 2026*
