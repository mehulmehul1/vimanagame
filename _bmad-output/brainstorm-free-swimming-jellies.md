# Brainstorm: Free-Swimming Jellies Interaction

**Date:** 2026-01-24  
**Understanding:** Jellies swim freely like koi - they NEVER position themselves under strings  
**Goal:** Create clear teaching through natural, free-flowing behavior

---

## Core Insight: The "Singing Current"

If jellies don't position themselves, the teaching must flow through them **naturally**.

```
Visual Setup:
- 6 jellies swim freely in water
- Beautiful koi-like paths, organic curves
- No fixed positions, no destinations
- Water is the medium of communication

Teaching Metaphor:
- Jelly swims past string → Water carries jelly's "voice"
- Current of light/music follows jelly's path
- String closest to jelly picks up the signal
- "The water sings, strings respond to what passes by"
```

---

## Approach 1: "The Singing Current" - Flowing Signal

### How It Works

```
Ambient State:
- All 6 jellies swim freely
- Beautiful flowing paths through water
- Each with unique color/behavior
- Peaceful, mesmerizing to watch

Teaching Phase:
1. Target jelly begins "singing"
   • Jelly glows brighter (teaching state)
   • Water around jelly begins to glow
   • Light/music current follows jelly's swimming path
   • Like a trail of bioluminescence
   
2. As jelly swims, current spreads through water
   • Current flows outward from jelly
   • Illuminates water surface
   • Spreads like ripples but with light
   • Natural, poetic movement
   
3. Current reaches nearest string's water point
   • String closest to current activates
   • String glows from water level up
   • Connection: Current → String
   • Player sees: "That string lit up, it must be the one"
   
4. Note plays through speakers
   • Sound seems to follow the current
   • Echoes through chamber
   • Visual: Current pulses with note frequency
   
Player Response:
5. Player clicks glowing string (anytime)
   
6. Correct click:
   • Current intensifies, turns white
   • All 6 jellies change path to celebrate
   • Harmony chord plays (all contribute)
   • Current dissipates slowly
   
7. Wrong click:
   • Current at wrong string ripples amber briefly
   • Target jelly changes swimming path slightly
   • Current redirects toward correct string
   • No reset, string keeps glowing
```

### Why This Works

**Natural Freedom:**
- Jellies never stop or position
- Always swimming, always flowing
- Teaching happens THROUGH swimming, not despite it

**Visual Poetry:**
- Current of light flowing through water
- Like a river of song
- String picks up signal as current passes

**Clear Communication:**
- Only one visual: glowing string
- Current connects jelly to string naturally
- Player follows the "flow of light"

---

## Approach 2: "The Resonant Field" - Area Effect

### How It Works

```
Teaching Phase:
1. Target jelly begins singing
   • Jelly glows brightly (teaching)
   • Creates resonant field in water around itself
   • Field is sphere of influence, radius ~3 units
   
2. Field illuminates water surface
   • Beautiful glowing area around jelly
   • Pulsing with jelly's rhythm
   • Field moves WITH jelly (as it swims)
   
3. Any string within field responds
   • String nearest to jelly's field center activates
   • String glows from within field
   • Connection: Field encompasses → String glows
   
4. Note plays, reverberates through field
   • Sound seems to come from field
   • Spatial audio follows field position
   
Player Response:
5. Player clicks glowing string
   
6. Correct:
   • Field intensifies to white
   • All jellies swim toward field (celebration)
   • Harmony chord plays
   • Field collapses in beautiful pattern
   
7. Wrong:
   • Field at wrong string pulses amber
   • Target jelly swims slightly (field shifts)
   • Field reestablishes around new position
```

### Why This Works

**Area-Based:**
- Field moves with jelly naturally
- String doesn't need jelly to be "under" it
- Just needs to be within influence

**Visual Beauty:**
- Glowing field in water
- Like magical aura around jelly
- Field encompasses and highlights string

**Natural:**
- Jelly keeps swimming freely
- Field moves with jelly
- No positioning constraints

---

## Approach 3: "The Follower" - Strings Attracted to Jellies

### How It Works

```
Teaching Phase:
1. Target jelly begins singing
   • Jelly glows brightly
   • Emits "signal" into water
   
2. Strings are attracted to signal
   • Each string has small invisible attraction radius
   • String nearest to jelly leans toward jelly
   • Subtle tilt/rotation toward jelly's position
   • Physical metaphor: "Strings want to hear"
   
3. Nearest string activates
   • String that tilted most begins to glow
   • Glows from water level up
   • Still tilted toward jelly
   • Visual connection: Tilted, glowing string
   
4. Note plays
   • Sound seems to come from jelly's direction
   • String vibrates with note frequency
   
Player Response:
5. Player clicks glowing, tilted string
   
6. Correct:
   • String untwists and straightens
   • Flash of white light
   • All jellies swim toward string (celebration)
   • Harmony chord plays
   
7. Wrong:
   • String tilts back quickly ("wrong!")
   • Amber glow briefly
   • Other strings lean more toward jelly
   • Correct string becomes more obvious
```

### Why This Works

**Dynamic Interaction:**
- Strings respond to jellies actively
- Not passive "waiting for signal"
- Physical, tangible behavior

**Visual Story:**
- Strings "reach toward" singing jellies
- Beautiful, organic movement
- Clear: "This string is reaching, it must be the one"

---

## Approach 4: "The Choir Current" - Collective Flow

### How It Works

```
Ambient State:
- All 6 jellies swim freely
- Sometimes alone, sometimes together
- Beautiful emergent patterns

Teaching Phase:
1. All 6 jellies begin singing in unison
   • All glow brighter together
   • Create combined "choir current" in water
   • Multiple currents, overlapping and weaving
   • Like multiple streams of light
   
2. Currents flow through chamber
   • Weave together, separate, rejoin
   • Beautiful complex patterns
   • Illuminate entire water surface
   
3. Each string responds to nearest current
   • String 0 (C) responds to current nearest
   • String 1 (D) responds to its nearest current
   • etc. - each string finds "its" current
   • All 6 strings glow simultaneously if currents pass nearby
   
4. Notes play in harmony
   • Each current carries its note
   • Spatial audio from different positions
   • Rich, chamber-filling sound
   
Player Response:
5. Player can click ANY glowing string
   
6. Correct (clicking the "target" string):
   • Target current intensifies to white
   • All jellies converge on target current
   • Full harmony chord plays (all 6 notes)
   
7. Wrong (clicking non-target string):
   • That string's current pulses amber
   • Target current glows brighter
   • Other currents flow toward target current
   • Guide: "Follow the brightest light"
```

### Why This Works

**Beautiful Chaos:**
- Multiple currents weaving together
- Each string has its current
- Player follows the flow of light
- Always something happening

**Natural:**
- Jellies swim completely free
- Currents emerge from swimming naturally
- No orchestration, just emergence

---

## Recommended: "The Singing Current" - Simple & Clear

### Why This Wins:

1. **Single Visual Signal** - Only glowing string matters
2. **Natural Freedom** - Jellies never stop, always swim
3. **Poetic Metaphor** - Current of light flowing through water
4. **Clear Connection** - Current follows jelly, string picks up signal
5. **No Positioning** - Jelly swims freely, current carries the teaching
6. **Beautiful Visuals** - Trails of bioluminescence in water

### Detailed Interaction Flow

```
Teaching Sequence:
1. Target jelly begins singing
   - Glows brighter (teaching state)
   - Water around it begins to glow
   - Current of light/music starts flowing
   
2. Current follows jelly's swimming path
   - Trails through water
   - Expands slightly as it travels
   - Illuminates water surface beautifully
   - Natural, flowing movement
   
3. Current reaches nearest string's water point
   - String detects current
   - String glows from water level up
   - Glow intensity: 0.0 → 1.0 over 0.5s
   - String pulses with note frequency
   - Visual: String is "drinking" the current
   
4. Note plays
   - Sound follows current path
   - Echoes through chamber
   - Visual: Current pulses with music

Player Response (No Timer):
5. Player clicks glowing string anytime
   
6. Correct:
   - Current turns white, intensifies
   - All 6 jellies change swim paths (celebration!)
   - Harmony chord plays (jelly note + perfect fifth)
   - Current dissipates over 1s (beautiful fade)
   - String retains faint glow for 2s (memory)
   
7. Wrong:
   - Current at wrong string ripples amber (0.5s)
   - Target jelly adjusts swimming path slightly
   - Current redirects toward correct string
   - Wrong string keeps glowing (try again anytime)
   - No reset, no punishment

Progression:
Sequence 1 (Single Notes):
- Each note: different jelly sings, current flows
- Player clicks glowing string
- Completion: All 6 jellies sing together, all strings glow

Sequence 2 (Pairs):
- Two jellies sing in sequence
- Two currents flow, two strings glow
- Player clicks both in order
- Completion: All 6 jellies sing, full harmony

Sequence 3 (Phrase):
- All 6 jellies sing in sequence
- 6 currents flow, all strings glow
- Player follows the sequence
- Completion: Chamber illuminated, vortex activates
```

---

## Visual Language: Flow-Based

### Color Coding

```
AMBIENT SWIM:   Soft Bioluminescent (Cyan, alpha 0.3)
  "Peaceful swimming in water"
  
SINGING/TEACHING:   Bright Cyan to White gradient
  "I'm singing, listen to my current"
  
CURRENT:         Cyan light trail (alpha 0.6, expanding)
  "The water carries my voice"
  
STRING GLOW:     Cyan to White gradient (bottom to top)
  "String is drinking the current"
  
SUCCESS:         White Flash (0xFFFFFF, duration 0.3s)
  "We harmonized!"
  
WRONG ATTEMPT:   Amber in current (0xFFAA00, duration 0.5s)
  "Hmm, not this string"
```

### Motion: Always Swimming

```
SWIM:           Bezier curve with organic drift
  "Natural koi movement, never straight lines"
  
SING:           Increase glow + current emission
  "No change to motion, just visual state"
  
CURRENT FLOW:    Follow jelly's path, expand slightly
  "Like smoke or light trail, but in water"
  
STRING DRINK:    Pulse upward from water level
  "Current flows UP through string"
  
CELEBRATE:       All jellies change paths joyfully
  "Like fish suddenly darting happily"
```

---

## Technical Implementation

### Singing Current System

```typescript
class SingingCurrent {
    sourceJelly: JellySwimmer;
    position: THREE.Vector3; // Current position
    pathPoints: THREE.Vector3[]; // Trail points
    intensity: number; // 0.0 to 1.0
    
    // When jelly starts singing
    startFromJelly(jelly: JellySwimmer) {
        this.sourceJelly = jelly;
        this.intensity = 0.0;
        
        // Current follows jelly's swimming
        jelly.onUpdate((pos) => {
            this.updatePath(pos);
            this.findNearestString(pos);
            this.expandCurrent();
        });
    }
    
    // Update current trail
    updatePath(jellyPosition: THREE.Vector3) {
        // Add new point every frame
        this.pathPoints.push(jellyPosition.clone());
        
        // Limit trail length (last 20 points)
        if (this.pathPoints.length > 20) {
            this.pathPoints.shift();
        }
        
        // Animate intensity up to 1.0
        this.intensity = Math.min(this.intensity + 0.02, 1.0);
    }
    
    // Find nearest string
    findNearestString(currentPosition: THREE.Vector3) {
        let nearestDist = Infinity;
        let nearestStringIndex = -1;
        
        this.stringPositions.forEach((pos, index) => {
            const dist = currentPosition.distanceTo(pos);
            if (dist < nearestDist && dist < 3.0) { // Within 3 units
                nearestDist = dist;
                nearestStringIndex = index;
            }
        });
        
        if (nearestStringIndex >= 0) {
            this.activateString(nearestStringIndex);
        }
    }
    
    // Activate string
    activateString(stringIndex: number) {
        const string = this.strings[stringIndex];
        string.glowIntensity = this.intensity;
        string.isTarget = true;
    }
}
```

### Jelly Swimming System (Always Free)

```typescript
class JellySwimmer {
    position: THREE.Vector3; // Always in water (y: -2 to 0)
    velocity: THREE.Vector3;
    isSinging: boolean = false;
    
    // Koi-like movement (always swimming)
    update(deltaTime: number) {
        // Follow wandering path
        this.followPath(deltaTime);
        
        // Add sine wave vertical oscillation
        this.position.y = -1 + Math.sin(Date.now() * 0.001) * 0.5;
        
        // Add gentle rotation
        this.rotation.y += deltaTime * 0.5;
        
        // If singing, emit current
        if (this.isSinging) {
            this.emitCurrent();
        }
    }
    
    // Natural path following
    followPath(deltaTime: number) {
        // Bezier curve to next waypoint
        // Add random drift (koi don't swim straight)
        // Never stop, always moving
    }
}
```

### Water Response System

```typescript
class WaterCurrentVisual {
    // Visualize current in water
    renderCurrent(current: SingingCurrent) {
        // Draw tube/trail along current.pathPoints
        // Tube radius expands slightly along path
        // Emissive material: cyan, alpha varies with intensity
        
        // Add particles at current position
        this.spawnCurrentParticles(current.position, current.intensity);
    }
    
    // Particles from current
    spawnCurrentParticles(position: THREE.Vector3, intensity: number) {
        // Small glowing particles
        // Float upward from water surface
        // Fade out over time
        // Color: cyan, alpha based on intensity
    }
}
```

---

## Success Criteria

### Player Experience

**Immediate Clarity:**
- ✅ Single visual signal: glowing string
- ✅ Current connects jelly to string naturally
- ✅ No confusion about which string
- ✅ Jellies always visible, swimming beautifully

**Emotional Arc:**
- ✅ Wonder (watching koi swim freely)
- ✅ Understanding (current flows, string glows)
- ✅ Confidence (click glowing string)
- ✅ Joy (all jellies celebrate together)
- ✅ Pride (chamber filled with our currents)

**Natural Freedom:**
- ✅ Jellies never position themselves
- ✅ Jellies never stop swimming
- ✅ Current emerges from swimming naturally
- ✅ No artificial destinations or targets

### Technical Requirements

**Performance:**
- ✅ 6 jellies active with currents
- ✅ Smooth path following (no teleporting)
- ✅ Current trail rendering (tube or particles)
- ✅ String detection from current position
- ✅ 60 FPS with all systems

**Visual:**
- ✅ Clear connection: current path → glowing string
- ✅ Natural swimming (koi-like, never straight)
- ✅ Beautiful currents (light trails in water)
- ✅ Teaching state obvious (jelly glows brighter)

---

## Implementation Priority

### Week 1: Free Swimming System
- [ ] Implement 6 jellies with koi-like swimming
- [ ] Always moving, never stopping
- [ ] Natural paths with drift and curves
- [ ] Beautiful ambient behavior

### Week 2: Singing Current
- [ ] Current follows jelly's path
- [ ] Current trail visualization (tube or particles)
- [ ] Current expansion and intensity animation
- [ ] Jelly singing state (glow brighter)

### Week 3: String Response
- [ ] Find nearest string to current position
- [ ] String glows when current reaches it
- [ ] String pulse with note frequency
- [ ] Current intensifies on correct click

### Week 4: Player Response & Polish
- [ ] Click detection on glowing strings
- [ ] Correct: current white + all jellies celebrate
- [ ] Wrong: amber ripples + current redirects
- [ ] Sequence progression (single → pairs → phrase)
- [ ] Celebration currents, vortex activation

---

## Conclusion

The "Singing Current" creates a poetic, natural interaction:

**Visual Poetry:**
- Jellies swim freely like koi
- Singing jelly emits current of light
- Current flows through water
- String "drinks" the current, glows
- All celebrate together in harmony

**Clear Communication:**
- Single visual: glowing string
- Current naturally connects jelly to string
- No positioning, no destinations
- Just flowing, beautiful light

**Emotional Experience:**
- Wonder at free-swimming jellies
- Understanding through natural connection
- Joy in shared celebration
- Pride in creating music together

**"The water sings, currents flow, strings respond, and you join the harmony."**